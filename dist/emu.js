/*! emujs v1.0.3 - Hung Luu <hungluu2106@gmail.com> (c) 2019 */
var emu=function(g){var k,m={iPhone_6:"375x667",iPhone_5:"320x568",iPhone_4:"320x480",iPhone_3:"320x480",iPod_Touch:"320x568",LG_G4:"360x640",LG_G3:"360x640",LG_Optimus_G:"384x640",Galaxy_Note_2:"360x640",Galaxy_Note:"400x640",Galaxy_S5:"360x640",Galaxy_S4:"360x640",Galaxy_S4_mini:"360x640",Galaxy_S3:"360x640",Galaxy_S3_mini:"320x533",Galaxy_S2:"320x533",Galaxy_S:"320x533",Galaxy_Nexus:"360x600",LG_Nexus_5:"360x640",LG_Nexus_4:"384x640",Lumia_1020:"320x480",Lumia_925:"320x480",Lumia_920:"320x480",
Lumia_900:"320x480",Lumia_830:"320x480",Lumia_620:"320x480",HTC_One:"360x640",HTC_8X:"320x480",HTC_Evo_3D:"360x640",Sony_Xperia_Z3:"360x598",Sony_Xperia_Z:"360x640",Sony_Xperia_S:"360x640",Sony_Xperia_P:"360x640",Xiaomi_Mi_4:"360x640",Xiaomi_Mi_3:"360x640",Lenovo_K900:"360x640","Pantech_Vega_n\u00b06":"360x640",Blackberry_Leap:"390x695",Blackberry_Passport:"504x504",Blackberry_Classic:"390x390",Blackberry_Q10:"346x346",Blackberry_Z30:"360x640",Blackberry_Z10:"384x640",Blackberry_Torch_9800:"360x480",
ZTE_Grand_S:"360x640",ZTE_Open_FirefoxOS:"320x480",iPhone_6_Plus:"414x736",Motorola_Nexus_6:"412x690",Lumia_1520:"432x768",Galaxy_Note_4:"360x640",Galaxy_Note_3:"360x640",iPad_Pro:"1024x1366",iPad_3_4_Air:"768x1024",iPad_1_2:"768x1024",iPad_mini_2_3:"768x1024",iPad_mini:"768x1024",'Galaxy_Tab_3_10"':"800x1280",'Galaxy_Tab_2_10"':"800x1280",'Galaxy_Tab_8.9"':"800x1280",'Galaxy_Tab_2_7"':"600x1024",Samsung_Nexus_10:"800x1280",HTC_Nexus_9:"768x1024",Asus_Nexus_7_v2:"600x960",Asus_Nexus_7_v1:"604x966",
"LG_G_Pad_8.3":"600x960","Kindle_Fire_HD_8.9":"800x1280",Kindle_Fire_HD_7:"480x800",Kindle_Fire:"600x1024",Surface_Pro_3:"1024x1440",Surface_Pro_2:"720x1280",Surface_Pro:"720x1280",Surface:"768x1366",Blackberry_Playbook:"600x1024",Google_Glass:"427x240"},n=function(){var a={};var d=!1;document.addEventListener||(d=!0);var f=function(){var a,u=/\+/g,v=/([^&=]+)=?([^&]*)/g,d=window.location.search.substring(1),c={};for(a=v.exec(d);a;)c[decodeURIComponent(a[1].replace(u," "))]=decodeURIComponent(a[2].replace(u,
" ")),a=v.exec(d);a=function(a){return a?c[a.toString()]:c};a.has=function(a){return"undefined"!==typeof c[a]};a.toString=function(){var a=[],b;for(b in c)void 0!==c[b]&&(""===c[b]?a.push(encodeURIComponent(b)):a.push(encodeURIComponent(b)+"="+encodeURIComponent(c[b])));return a.length?"?"+a.join("&"):""};a["with"]=function(a){for(var b in a)c[b]=a[b];return c};a.rem=function(a){c[a]=void 0};a.add=function(a,b){c[a]=b};return a}();var e=function(){function a(){this.url=[location.protocol,"//",location.host,
location.pathname].join("");this.param=f;this.full=window.location.href}a.prototype={toString:function(){return this.url},to:function(a){window.location.href=a},previous:function(){return window.referrer},encode:function(a){return encodeURIComponent(a)},decode:function(a){return decodeURIComponent(a)},open:function(a){var b=document.createElement("a");b.href=a;b.target="_blank";b.click()},"with":function(a){var b=[],c;for(c in a)void 0!==a[c]&&(""===a[c]?b.push(this.encode(c)):b.push(this.encode(c)+
"="+this.encode(a[c])));return b.length?this.url+"?"+b.join("&"):this.url}};return new a}();var c=function(a,c){for(var b in c)a[b]=c[b]};var z=function(a){return a.offsetHeight};var h=function(a){return a.offsetWidth};d=d?function(a,d){var b='"progid:DXImageTransform.Microsoft.Matrix(M11='+d+", M12=0, M21=0, M22="+d+", SizingMethod='auto expand')\"";c(a.style,{"-ms-filter":b,filter:b,"margin-left":"-"+h(a)+"px","margin-top":"-"+z(a)+"px"})}:function(a,d){var b="scale("+d+")";c(a.style,{"-moz-transform":b,
"-o-transform":b,"-webkit-transform":b,transform:b})};a.each=function(a,c){for(var b=a.length-1;0<=b;b--)c.apply(a[b])};a.scale=d;a.center=function(a){c(a.style,{position:"absolute",top:"50%",left:"50%",margin:"-"+a.offsetHeight/2+"px 0 0 -"+a.offsetWidth/2+"px"})};a.first=function(a){for(var b in a)return b};a.url=e;a.isTop=window===window.top;a.isDev=0===navigator.plugins.length;return a}(),l=function(a){var d=function(){this.handlers=[]};d.prototype={add:function(a){this.handlers.push(a)},receive:function(a){for(var c=
this.handlers.length-1;0<=c;c--)this.handlers[c](a)},reset:function(){this.handlers.length=0}};var f=function(){this.boxes={}};f.prototype={open:function(a){this.boxes[a]=new d},close:function(a){this.boxes[a]=void 0},isOpened:function(a){return"undefined"!==typeof this.boxes[a]},pull:function(a,d){this.boxes[a].add(d)},push:function(c,d){parent.postMessage(a.stringify({name:c,data:d}),"*")},receive:function(a,d){this.isOpened(a)&&this.boxes[a].receive(d)}};var e=new f;window.onmessage=function(d){if(d.data){var c=
a.parse(d.data);d=c.name||'""';c=c.data||'""';d&&e.receive(d,c)}};return e}(JSON||function(){function a(a){return 10>a?"0"+a:a}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=function(){return this.valueOf()},Number.prototype.toJSON=function(){return this.valueOf()},
String.prototype.toJSON=function(){return this.valueOf()})}()),A=function(a){return function(d){"undefined"!==typeof html2canvas&&html2canvas(d,{onrendered:function(f){var e=document.createElement("canvas");e.width=f.width;e.height=f.height;var c=e.getContext("2d");c.rect(0,0,e.width,e.height);c.fillStyle="white";c.fill();c.drawImage(f,0,0);a.push("screenshot",{src:e.toDataURL(),size:{width:d.offsetWidth,height:d.offsetHeight}})}})}}(l),w=function(a,d){var f;var e=function(a,d){function b(){d(a.val())}
a.on("input",b);a.on("propertychange input",b);a.keyup(function(a){a=a.code||a.which;8!==a&&46!==a||b.apply(this)});return a};var c=function(b,c,f){f=f||"li";var e=0;c=a(c).children(f);""!==b?d.each(c,function(){-1<this.innerHTML.toLowerCase().indexOf(b.toLowerCase())?(e++,a(this).show(0)):a(this).hide(0)}):c.show()};var g=function(a,c){var b="";c=c||d.first(a);for(var e in a)b+="<span",e===c&&(b+=" class=active"),b+=' onclick=emu("'+e.replace('"','\\"')+'")>',b+=e.replace(/_/g," ")+"</span>";f.innerHTML=
b};var h=function(b){f=a("<div/>").addClass("opts")[0];var c=a("<input/>");e(c,h.search);g(b);a("<div/>").addClass("top layer ctrl").append(a("<div/>").addClass("utils").append(c)).append(f).appendTo("#emu")};h.search=function(a){return c(a,f,"span")};h.build=g;return h}(g,n),r=function(a,d){var f;var e=function(b){var c=b.width;b=b.height;var e=c/b,g=c,p=a("#emu .view")[0];b>p.offsetHeight-40&&(g=p.offsetHeight-40,g*=e);g>p.offsetWidth-40&&(g=p.offsetWidth-40);e=Math.round(100*(g/c+1E-5))/100;a(f).css({height:b,
width:c});d.scale(f,e);d.center(f)};var c=function(){e({width:f.offsetHeight,height:f.offsetWidth})};var g=function(){f.src=d.url["with"]({screenshot:""})};var h=function(){var b=a("<button/>").text("rotate").click(c),e=a("<button/>").text("screenshot").click(g);f=a("<iframe/>",{src:d.url})[0];a("<div/>").addClass("top layer view").append(a("<div/>").addClass("utils").append(e).append(b)).append(f).appendTo("#emu")};h.resize=e;h.rotate=c;h.refresh=function(){f.src=d.url};h.rescale=function(){e({width:f.offsetWidth,
height:f.offsetHeight})};return h}(g,n),q=function(a){var d,f,e,c,g,h=!1,b=0;var k=function(){var a=new Date,c=a.getMonth()+1,b=a.getHours(),d=a.getMinutes(),e=a.getSeconds();10>b&&(b="0"+b);10>d&&(d="0"+d);10>e&&(e="0"+e);return b+":"+d+":"+e+" "+a.getDate()+"/"+c+"/"+(a.getFullYear()+"").slice(2)};var m=function(){b=0;a(d).toggle();a(e).toggle();a(g).hide().text(0);a(f).hide().text(0);h=a(d).is(":visible")?!0:!1};var l=function(){d=a("<div/>").addClass("logs").hide()[0];e=a("<div/>").addClass("images")[0];
c=a("<ul/>").appendTo(e);f=a("<span/>").hide()[0];g=a("<span/>").hide()[0];var b=a("<div/>").addClass("utils")[0];a("<span/>").text("Images").append(g).appendTo(b).click(function(){a(this).parent().children("span").removeClass("active");a(this).addClass("active");m()}).addClass("active");a("<span/>").text("Logs").append(f).appendTo(b).click(function(){a(this).parent().children("span").removeClass("active");a(this).addClass("active");m()});a("<div/>").addClass("btm layer").append(b).append(e).append(d).appendTo("#emu")};
l.log=function(c){a(d).prepend("<p>"+c+"<i>"+k()+"</i></p>");h||(b++,a(f).text(b).show())};l.image=function(d,f,l){var k=a("<li/>");a(e).show();a(c).prepend(k);k.css({width:k.height()/l.height*l.width,background:"url("+f+")","background-size":"cover"});k.html('<a target="_blank" href='+f+">"+d+"</a>");h&&(a(e).hide(),b++,a(g).text(b).show())};l.toggle=m;return l}(g);var x=function(a){a=a.split("x");return{width:parseInt(a[0],10),height:parseInt(a[1],10)}};var B=function(a){return 1200<=a.width?"large":
922<=a.width?"medium":768<=a.width?"small":"extra small"};var y=function(a){k=n.first(a);return function(a){k=a;r.resize(x(m[k]));w.build(m,k)}}(m);if(n.isTop){var t=function(a){a?(y(a),q.log("Simulating "+k.replace(/_/g," ")+"... <u>"+B(x(m[k]))+"</u> device")):(g("<div/>",{id:"emu"}).appendTo("body"),w(m),r(),q(),g("<button/>").addClass("emu").text("emu").appendTo(document.body).click(function(){g("#emu").fadeToggle("fast",function(){})}),l.open("screenshot"),l.pull("screenshot",function(a){q.image(k.replace(/_/g,
" "),a.src,a.size)}),l.open("log"),l.pull("log",function(a){q.log(a)}))};g(document).ready(function(){y(k);g("#emu").hide()});g(window).resize(function(){r.rescale()})}else t=function(){n.url.param.has("screenshot")?g(window).load(function(){A(document.body)}):g(window).load(function(){l.push("log","Simulation done. Device is ready.")})};t.add=function(a,d){m[a]=d};return t}(jQuery);
